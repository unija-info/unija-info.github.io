<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Campus Map</title>
    <style>
        body { display: flex; font-family: Arial, sans-serif; }
        #sidebar { width: 250px; padding: 10px; background: #f4f4f4; }
        #map-container { flex: 1; text-align: center; }
        .hidden { display: none; }
        .highlight { stroke: red; stroke-width: 2px; }
    </style>
</head>
<body>
    <div id="sidebar">
        <h2>Campus Map</h2>
        <input type="text" id="search" placeholder="Search location...">
        <h3>Legend</h3>
        <button onclick="filterCategory('academic')">Academic</button>
        <button onclick="filterCategory('food')">Food</button>
        <button onclick="filterCategory('sports')">Sports</button>
        <h3>Locations</h3>
        <ul id="location-list"></ul>
    </div>
    <div id="map-container">
        <object id="campus-map" type="image/svg+xml" data="https://unija-info.github.io/map/map.svg"></object>
    </div>
    <script>
        document.getElementById("campus-map").addEventListener("load", function() {
            let svgDoc = this.contentDocument;
            let locations = svgDoc.querySelectorAll(".location");
            
            locations.forEach(el => {
                el.addEventListener("click", () => highlight(el));
            });

            document.getElementById("search").addEventListener("input", function() {
                let searchValue = this.value.toLowerCase();
                locations.forEach(el => {
                    el.classList.toggle("hidden", !el.dataset.name.toLowerCase().includes(searchValue));
                });
            });
        });

        function highlight(element) {
            let svgDoc = document.getElementById("campus-map").contentDocument;
            svgDoc.querySelectorAll(".location").forEach(el => el.classList.remove("highlight"));
            element.classList.add("highlight");
        }

        function filterCategory(category) {
            let svgDoc = document.getElementById("campus-map").contentDocument;
            let locations = svgDoc.querySelectorAll(".location");
            locations.forEach(el => {
                el.classList.toggle("hidden", !el.classList.contains(category));
            });
        }
    </script>
</body>
</html>
